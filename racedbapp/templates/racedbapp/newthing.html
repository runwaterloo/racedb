{% extends "racedbapp/base.html" %}
{% load static %}

{% block title %}
 New Thing
  |
{% endblock title %}

{% block ogmeta %}
  <meta property="og:type" content="website" />
  <meta property="og:title" content="RunWaterloo Results" />
  <meta property="og:description" content="Explore results and records for every RunWaterloo event." />
  <meta property="og:image" content="{% static "ogimage.png" %}" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <script src="{% static "jquery.filtertable.min.js" %}"></script>
{% endblock ogmeta %}

{% block content %}

<h3>New Thing {{ year }} <small><a href="http://www.runwaterloo.com" target="_blank"><span class="glyphicon glyphicon-info-sign" aria-hidden="true"></span></a></h3></small>

  <div class="row">
    {% for k, v in leaderboard.items %}
      <div class="col-xs-6 col-sm-6 col-md-3 col-lg-3">
        <center><h4>{{ k }}</h4></center>
        <div style="padding-top: 1px; padding-bottom: 5px">
          <div class="profile-outer-mini">
            <div class="profile-inner-mini">
              <img src="{{ v.0.photourl }}">
            </div>
          </div>
        </div>
        <table class=table>
          {% for i in v %}
            <tr>
              <td class="text-center">{{ forloop.counter }}</td>
              <td><a href="/member/{{ i.slug }}/">{{ i.athlete}}</a></td>
              <td><a href="?member={{ i.slug }}" title="{{ i.total_points|floatformat:"2" }}">{{ i.total_points|floatformat:"0" }}<a></td>
            </tr>
          {% endfor %}
        </table>
      </div>
    {% endfor %}
  </div>

  <div class="row">
    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
              Filter: <select onchange="location = this.options[this.selectedIndex].value;">
              <option>{{ standings_filter.current }}</option>
              {% for c in standings_filter.choices %}
                <option value="{{ c.url }}">{{ c.name }}</option>
              {% endfor %}
              </select>
              <p></p>
    </div>
    </div>
  <div class="row">

    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      <table class="table table-bordered table-condensed table-striped">
        <tr class="info">
          <th class="text-center">#</th>
          <th>Athlete</th>
          <th class="text-center">Total</th>
          <th class="text-center">G</th>
          <th class="text-center">GP</th>
          <th class="text-center">Cat</th>
          <th class="text-center">CP</th>
          <th class="text-center">SubCat</th>
          <th class="text-center">SCP</th>
          <th>City</th>
        </tr>
        {% for s in standings %}
          <tr>
            <td class="text-center">{{ forloop.counter }}</td>
            <td><a href="/member/{{ s.slug }}/">{{ s.athlete}}</a></td>
            <td class="text-center"><a href="?member={{ s.slug }}" title="{{ s.total_points|floatformat:"2" }}">{{ s.total_points|floatformat:"0" }}<a></td>
            <td class="text-center">{{ s.gender }}</td>
            <td class="text-center">{{ s.gender_place }}</td>
            <td class="text-center">{{ s.category }}</td>
            <td class="text-center">{{ s.category_place }}</td>
            <td class="text-center">{{ s.subcategory }}</td>
            <td class="text-center">{{ s.subcategory_place }}</td>
            <td>{{ s.city }}</td>
          </tr>
        {% endfor %}
      </table>
    </div>
  </div>

{% endblock content %}
